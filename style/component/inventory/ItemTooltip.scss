.item-tooltip {
	width: 400px;
		
	@each $tier in $tiers {
		&-tier-#{$tier} .tooltip-header {
			background: color(tier-#{$tier}-background, .85);
		}
	}
	
	&-source-watermark {
		position: absolute;
		top: 0;
		right: 0;
		border-right: 44px solid #0008;
		border-bottom: 44px solid transparent;
		&::before {
			content: "";
			display: block;
			position: absolute;
			width: 20px;
			height: 20px;
			left: 21px;
			top: 3px;
			background: currentColor;
			-webkit-mask-image: var(--icon);
			-webkit-mask-size: contain;
			-webkit-mask-position: center;
			-webkit-mask-repeat: no-repeat;
			mask-image: var(--icon);
			mask-size: contain;
			mask-position: center;
			mask-repeat: no-repeat;
		}
	}
	
	.tooltip-header {
		> * {
			z-index: 1;
		}
	}
	
	&-masterwork .tooltip-header {
		&::before {
			content: "";
			display: block;
			position: absolute;
			inset: 0;
			max-height: 69px;
			background: linear-gradient(-45deg, transparent 35%, #fff 50%, transparent 65%), #D4B73C;
			background-size: 400% 400%;
			animation: flash 2s linear infinite reverse;
			-webkit-mask-image: 
				url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 69"><polygon points="0,0 100,0 100,4 0,4" fill="black"/></svg>'),
				url("/image/masterworktooltip.png");
			mask-image: 
				url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 69"><polygon points="0,0 100,0 100,4 0,4" fill="black"/></svg>'),
				url("/image/masterworktooltip.png");
		}
	}
	
	&-primary-info {
		display: grid;
		grid-template-columns: auto 1fr;
		font-size: 1.1em;
		line-height: 1em;
		padding: 4px 0;
	}
		
	&-primary-stat {
		font-size: 32pt;
		font-weight: 600;
		line-height: .7em;
		letter-spacing: -.04em;
		display: inline-flex;
		
		&-damage {
			display: flex;
			&::before {
				content: "";
				display: inline-block;
				width: .75em;
				height: .75em;
				align-self: center;
				background: var(--icon);
				background-size: contain;
				margin-right: .15em;
			}
		}
		
		&::after {
			content: "";
			display: block;
			width: 2px;
			height: 90%;
			align-self: center;
			margin: 0 calc(32pt * .3);
			background: white;
			opacity: 0.3;
		}
	}
	
	&-energy-type-void {
		color: #b185df;
	}
	&-energy-type-solar {
		color: #f0631e;
	}
	&-energy-type-arc {
		color: #7aecf3;
	}
	&-energy-type-stasis {
		color: #4d88ff;
	}
	
	&-ammo-type {
		display: flex;
		text-transform: uppercase;
		align-items: center;
		
		&::before {
			content: "";
			display: inline-block;
			height: calc(32pt * .75);
			aspect-ratio: 1312 / 937;
			align-self: center;
			background: var(--icon);
			background-size: contain;
			background-repeat: no-repeat;
			margin-right: calc(32pt * .2);
		}
		
		&-primary {
			--icon: url("https://raw.githubusercontent.com/justrealmilk/destiny-icons/master/general/ammo-primary.svg");
		}
		&-special {
			--icon: url("https://raw.githubusercontent.com/justrealmilk/destiny-icons/master/general/ammo-special.svg");
		}
		&-heavy {
			--icon: url("https://raw.githubusercontent.com/justrealmilk/destiny-icons/master/general/ammo-heavy.svg");
		}
	}
	
	&-energy {
		display: flex;
		text-transform: uppercase;
		align-items: center;
		
		&-value {
			display: flex;
			font-size: 1.6em;
			font-weight: 600;
			margin-right: .25em;
			transform: translateY(.03em);
			align-items: center;
			
			&::before {
				content: "";
				display: block;
				background: var(--icon);
				background-size: contain;
				background-repeat: no-repeat;
				width: .6em;
				height: .6em;
				margin-right: .05em;
				transform: translateY(-.03em);
			}
		}
	}
}
